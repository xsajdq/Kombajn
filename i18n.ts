
import { getState } from './state.ts';

const translations = {
    en: {
        sidebar: { dashboard: 'Dashboard', projects: 'Projects', tasks: 'Tasks', team_calendar: 'Team Calendar', clients: 'Clients', sales: 'Sales', reports: 'Reports', invoices: 'Invoices', ai_assistant: 'AI Assistant', hr: 'HR', settings: 'Settings', billing: 'Billing', chat: 'Chat', goals: 'Goals', inventory: 'Inventory', 'budget-and-expenses': 'Budget & Expenses' },
        dashboard: {
            title: 'Dashboard', welcome_message: 'Welcome back, {name}!', welcome_sub: "Here's your business overview.",
            kpi_total_revenue: 'Total Revenue', kpi_active_projects: 'Active Projects', kpi_total_clients: 'Total Clients', kpi_completion_rate: 'Completion Rate',
            kpi_hours_today: 'Hours Today', kpi_overdue_projects: 'Overdue Projects', kpi_team_productivity: 'Team Productivity', kpi_goals_met: 'Goals Met',
            vs_last_month: 'vs last month',
            widget_recent_projects_title: 'Recent Projects', widget_todays_tasks_title: "Tasks", widget_activity_feed_title: 'Recent Activity',
            widget_schedule_title: 'Schedule', widget_messages_title: 'Messages', widget_alerts_title: 'Alerts',
            widget_weekly_performance_title: 'Weekly Performance', widget_quick_actions_title: 'Quick Actions',
            widget_time_tracking_summary_title: 'Time Tracking Summary', widget_invoice_summary_title: 'Invoice Summary', widget_goal_progress_title: 'Goal Progress',
            action_new_project: 'New Project', action_add_client: 'Add Client', action_create_invoice: 'Create Invoice', action_schedule_meeting: 'Schedule Meeting',
            view_all: 'View All',
            edit_dashboard: 'Edit Dashboard', add_widget: 'Add Widget', done_editing: 'Done Editing',
            no_tasks_assigned: 'No tasks assigned to you.',
            select_project_for_widget: 'Select a project to display data.',
            no_activity_yet: 'No recent activity in this workspace.',
            grid_columns: 'Grid Columns',
            increase_width: 'Increase width',
            decrease_width: 'Decrease width',
            tasks_overdue: 'Overdue', tasks_today: 'Today', tasks_tomorrow: 'Tomorrow',
            invoices_pending: 'Pending', invoices_overdue: 'Overdue', time_today: 'Time Today',
            my_day_todays_schedule: "Today's Schedule",
            my_day_for_you: "For You",
            my_day_my_tasks: "My Tasks",
            my_day_overdue: "Overdue",
            my_day_today: "Today",
            my_day_tomorrow: "Tomorrow",
            my_day_no_tasks: "You're all clear! No tasks for this period.",
            my_day_no_schedule: "No events scheduled for today.",
            my_day_no_notifications: "You're all caught up!",
            my_day_quick_actions: "Quick Actions",
            my_day_log_time: "Log Time",
            my_day_active_projects: "My Active Projects",
            my_day_time_summary: "Today's Time Summary",
            tab_my_day: "My Day",
            tab_overview: "Overview",
        },
        projects: {
            no_projects_yet: 'No projects yet.',
            no_projects_desc: 'Add your first project to get started.',
            grid_view: 'Grid',
            portfolio_view: 'Portfolio',
            col_status: 'Status',
            col_progress: 'Progress',
            col_due_date: 'Due Date',
            col_budget: 'Budget',
            col_team: 'Team',
            status_on_track: 'On Track',
            status_at_risk: 'At Risk',
            status_completed: 'Completed',
            all_statuses: 'All Statuses',
        },
        tasks: {
            title: 'Tasks',
            board_view: 'Board',
            list_view: 'List',
            calendar_view: 'Calendar',
            gantt_view: 'Gantt',
            workload_view: 'Workload',
            sort_by: 'Sort by',
            sort_manual: 'Manual',
            sort_due_date: 'Due Date',
            sort_priority: 'Priority',
            sort_name: 'Name',
            sort_created_at: 'Created At',
            filters_button_text: 'Filters',
            automations_button_text: 'Automations',
            new_task: 'New Task',
            search_placeholder: 'Search tasks...',
            all_assignees: 'All Assignees',
            all_projects: 'All Projects',
            all_priorities: 'All Priorities',
            all_statuses: 'All Statuses',
            priority_high: 'High',
            priority_medium: 'Medium',
            priority_low: 'Low',
            priority_none: 'None',
            date_all: 'All Time',
            date_today: 'Today',
            date_tomorrow: 'Tomorrow',
            date_yesterday: 'Yesterday',
            date_this_week: 'This Week',
            date_overdue: 'Overdue',
            show_archived: 'Show Archived',
            reset_filters: 'Reset',
            unassigned: 'Unassigned',
            col_task: 'Task',
            col_project: 'Project',
            col_assignee: 'Assignee',
            col_due_date: 'Due Date',
            col_priority: 'Priority',
            col_time: 'Time',
            default_board: 'Default Board',
            subtask_progress: '{completed} of {total} subtasks done',
            backlog: 'Backlog',
            todo: 'To Do',
            inprogress: 'In Progress',
            inreview: 'In Review',
            done: 'Done',
            archive: 'Archive',
            unarchive: 'Unarchive',
            start_timer: 'Start timer',
            stop_timer: 'Stop timer',
            no_kanban_columns_title: 'Kanban Columns Not Set Up',
            no_kanban_columns_desc: 'An administrator needs to configure the task board columns in the settings.',
            no_tasks_match_filters: 'No tasks match the current filters.',
        },
        clients: {
            title: 'Clients',
            add_client: 'Add Client',
            active_projects: 'active projects',
            no_clients_yet: 'No clients found.',
            no_clients_desc: 'Add your first client to start managing projects and invoices.',
        },
        sales: {
            title: 'Sales Pipeline',
            new_deal: 'New Deal',
            deal_owner: 'Deal Owner',
            deal_value: 'Deal Value',
            deal_client: 'Client',
            expected_close: 'Expected Close',
            pipeline_not_setup_title: 'Pipeline Not Set Up',
            pipeline_not_setup_desc: 'Please configure your sales pipeline stages in the settings.',
            go_to_settings: 'Go to Settings',
        },
        invoices: {
            title: 'Invoices',
            new_invoice: 'New Invoice',
            invoice_singular: 'Invoice',
            list_title: 'Invoice List',
            col_number: 'Number',
            col_client: 'Client',
            col_issued: 'Issued',
            col_due: 'Due',
            col_total: 'Total',
            col_status: 'Status',
            col_actions: 'Actions',
            status_pending: 'Pending',
            status_paid: 'Paid',
            status_overdue: 'Overdue',
            status_sent: 'Sent',
            all_clients: 'All Clients',
            all_statuses: 'All Statuses',
            no_invoices_yet: 'No invoices found for the selected filters.',
            download_pdf: 'Download PDF',
            send_by_email: 'Send by Email',
            mark_as_paid: 'Mark as Paid',
            mark_as_unpaid: 'Mark as Unpaid',
            unit_price: 'Unit Price',
            total_price: 'Total',
            generated_item_desc: 'Work on project {projectName} ({hours} hours)',
            generated_expense_desc: 'Reimbursable expense: {expenseDesc}',
            client_email_missing: 'Client does not have an email address.',
            email_template_subject: 'Invoice {invoiceNumber} from {companyName}',
            email_template_body: 'Hello,\n\nPlease find attached invoice {invoiceNumber}.\n\nThank you,\n{companyName}',
            opened: 'Opened',
            not_opened: 'Not Opened',
            settings_title: 'Invoice Settings',
            settings_subtitle: 'Customize the appearance of your generated PDF invoices.',
            template_label: 'Template',
            accent_color_label: 'Accent Color',
            default_notes_label: 'Default Notes / Footer',
            default_notes_placeholder: 'e.g. Payment terms, thank you note...',
            tab_list: 'Invoice List',
            tab_settings: 'Settings',
        },
        goals: {
            title: 'Goals & Objectives',
            subtitle: 'Track and manage your business goals and KPIs',
            analytics: 'Analytics',
            new_goal: 'New Goal',
            total_goals: 'Total Goals',
            in_progress: 'In Progress',
            completed: 'Completed',
            avg_progress: 'Avg Progress',
            goal_categories: 'Goal Categories',
            active_goals: 'Active goals',
            search_goals: 'Search goals...',
            no_goals: "You haven't set any goals yet.",
            no_goals_desc: 'Click "New Goal" to define your first objective.',
            all_statuses: 'All Statuses',
            all_owners: 'All Owners',
            status_in_progress: 'In Progress',
            status_completed: 'Completed',
            status_on_hold: 'On Hold',
            progress: 'Progress',
            of: 'of',
            milestones: 'Milestones',
        },
        inventory: {
            title: 'Inventory Management',
            subtitle: 'Track and manage your company assets',
            add_item: 'Add Item',
            total_items: 'Total Items',
            total_value: 'Total Value',
            low_stock: 'Low Stock',
            out_of_stock: 'Out of Stock',
            inventory_by_category: 'Inventory by Category',
            items: 'Items',
            value: 'Value',
            search_inventory: 'Search by name, category, or SKU...',
            col_item: 'Item',
            col_sku: 'SKU',
            col_stock_level: 'Stock Level',
            col_unit_price: 'Unit Price',
            col_total_value: 'Total Value',
            col_status: 'Status',
            col_actions: 'Actions',
            status_in_stock: 'In Stock',
            status_low_stock: 'Low Stock',
            status_out_of_stock: 'Out of Stock',
            no_items: 'No inventory items found.',
        },
        reports: {
            title: 'Reports',
            filter_date_range: 'Date Range',
            filter_project: 'Project',
            filter_user: 'User',
            filter_client: 'Client',
            all_projects: 'All Projects',
            all_users: 'All Users',
            all_clients: 'All Clients',
            tab_productivity: 'Productivity',
            tab_time: 'Time',
            tab_financial: 'Financial',
            tab_goals: 'Goals',
            no_data: 'No data available for the selected filters.',
            kpi_tasks_completed: 'Tasks Completed',
            kpi_avg_completion_time: 'Avg. Completion Time',
            kpi_total_time_tracked: 'Total Time Tracked',
            kpi_billable_hours: 'Billable Hours',
            kpi_total_revenue: 'Total Revenue',
            kpi_total_expenses: 'Total Expenses',
            kpi_net_profit: 'Net Profit',
            kpi_outstanding_revenue: 'Outstanding Revenue',
            report_task_velocity_title: 'Task Velocity (Completed per Day)',
            report_team_workload_title: 'Team Workload (Open Tasks)',
            report_tasks_by_priority_title: 'Tasks by Priority (Completed)',
            report_time_by_project_title: 'Time by Project',
            report_time_by_user_title: 'Time by User',
            report_billable_time_title: 'Billable vs. Non-billable Time',
            report_revenue_cost_profit_title: 'Revenue / Cost / Profit',
            report_invoice_status_title: 'Invoice Status',
            report_top_clients_title: 'Top Clients by Revenue',
            milestones_completed: 'Milestones Completed',
            report_progress_by_goal_title: 'Progress by Goal',
            report_goal_completion_title: 'Goal Completion Status',
            report_milestone_status_title: 'Milestone Status',
        },
        settings: {
            title: 'Settings',
            theme: 'Theme',
            theme_desc: 'Choose how Kombajn looks for you.',
            theme_light: 'Light',
            theme_dark: 'Dark',
            language: 'Language',
            language_desc: 'Select your preferred language.',
            english: 'English',
            polish: 'Polish',
            rerun_onboarding: 'Rerun Onboarding',
            rerun_onboarding_desc: 'Restart the guided tour of the application.',
            start_tour: 'Start Tour',
            tab_general: 'General',
            tab_profile: 'Profile',
            tab_workspace: 'Workspace',
            tab_integrations: 'Integrations',
            tab_pipeline: 'Sales Pipeline',
            tab_kanban: 'Kanban Board',
            tab_custom_fields: 'Custom Fields',
            tab_task_views: 'Task Views',
            profile_details: 'Profile Details',
            avatar: 'Avatar',
            upload_avatar: 'Upload Avatar',
            full_name: 'Full Name',
            email_address: 'Email Address',
            update_profile: 'Update Profile',
            change_password: 'Change Password',
            new_password: 'New Password',
            confirm_new_password: 'Confirm New Password',
            update_password: 'Update Password',
            profile_updated: 'Profile updated successfully!',
            error_updating_profile: 'Error updating profile.',
            password_updated: 'Password updated successfully!',
            error_updating_password: 'Error updating password.',
            password_mismatch: 'Passwords do not match.',
            company_details: 'Company Details',
            company_name: 'Company Name',
            company_address: 'Company Address',
            company_vat_id: 'Company VAT ID',
            company_email: 'Company Email',
            company_logo: 'Company Logo',
            logo_preview: 'Logo Preview',
            upload_logo: 'Upload Logo',
            remove_logo: 'Remove',
            bank_details: 'Bank Details',
            bank_name: 'Bank Name',
            bank_account: 'Bank Account Number',
            field_name: 'Field Name',
            field_type: 'Field Type',
            add_field: 'Add Field',
            no_custom_fields: "You haven't added any custom fields yet.",
            field_type_text: 'Text',
            field_type_number: 'Number',
            field_type_date: 'Date',
            field_type_checkbox: 'Checkbox',
            view_name: 'View Name',
            icon: 'Icon',
            add_view: 'Add View',
            stage_name: 'Stage Name',
            add_stage: 'Add Stage',
            drag_to_reorder: 'Drag to reorder',
            deal_stages: 'Deal Stages',
            deals_in_stage_warning: 'Cannot delete stage. There are still deals in this stage.',
        },
        modals: {
            cancel: 'Cancel',
            save: 'Save',
            add_client_title: 'Add New Client',
            edit_client_title: 'Edit Client',
            company_name: 'Company Name',
            vat_id: 'VAT ID',
            category: 'Category',
            health_status: 'Health Status',
            health_status_good: 'Good',
            health_status_at_risk: 'At Risk',
            health_status_neutral: 'Neutral',
            status: 'Status',
            contacts: 'Contacts',
            contact_person: 'Contact Person',
            email: 'Email',
            phone: 'Phone',
            contact_role: 'Role',
            add_contact: 'Add Contact',
            remove_item: 'Remove',
            add_project_title: 'Create New Project',
            project_name: 'Project Name',
            assign_to_client: 'Assign to Client',
            select_a_client: 'Select a client',
            create_from_template: 'Create from Template (Optional)',
            select_template: 'No template',
            hourly_rate: 'Hourly Rate',
            budget_cost: 'Budget (Cost)',
            project_category: 'Project Category',
            tags: 'Tags',
            privacy: 'Privacy',
            privacy_public: 'Public',
            privacy_public_desc: 'All workspace members can see this project.',
            privacy_private: 'Private',
            privacy_private_desc: 'Only invited members can see this project.',
            invite_members: 'Invite Members',
            ai_planner_title: 'Plan a Project with AI',
            create_project: 'Create Project',
            ai_planner_goal_label: 'What is the main goal of this project?',
            ai_planner_goal_placeholder: 'e.g., "Launch a new marketing campaign for a SaaS product targeting small businesses. The campaign should include social media, content marketing, and email outreach. The goal is to generate 500 new leads in 3 months."',
            add_task_title: 'Create New Task',
            task_name: 'Task Name',
            description: 'Description',
            project: 'Project',
            select_a_project: 'Select a project',
            project_section: 'Project Section',
            task_view: 'Task View',
            people: 'People',
            assignees: 'Assignees',
            dates: 'Dates',
            priority: 'Priority',
            priority_none: 'None',
            priority_low: 'Low',
            priority_medium: 'Medium',
            priority_high: 'High',
            estimated_hours: 'Estimated Time',
            task_type: 'Type',
            task_type_feature: 'Feature',
            task_type_bug: 'Bug',
            task_type_chore: 'Chore',
            add_timelog_comment_title: 'Save Time Log',
            time_to_log: 'Time to Log',
            comment_placeholder: 'Add a comment (optional)...',
            save_log: 'Save Log',
            create_invoice_title: 'Create Invoice',
            client: 'Client',
            issue_date: 'Issue Date',
            due_date: 'Due Date',
            invoice_items: 'Invoice Items',
            generate_from_time: 'Generate from Unbilled Time',
            item_description: 'Description',
            item_qty: 'Qty',
            item_price: 'Unit Price',
            add_item: 'Add Item',
            total: 'Total',
            send_email_button: 'Send Email',
            add_widget: 'Add a Widget to Your Dashboard',
            configure_widget: 'Configure Widget',
            automations_title: 'Automations for {projectName}',
            task_details_title: 'Task Details',
            add_manual_time_log_title: 'Add Manual Time Log',
            date_worked: 'Date Worked',
            start_time: 'Start Time',
            add_project_section_title: 'Add New Section',
            add_review_title: 'Add Review for {name}',
            rating: 'Rating (1-5)',
            review_notes: 'Review Notes',
            logged: 'logged',
            add_time_log_button: 'Log Time',
            no_activity: 'No activity yet. Add a comment to start the conversation.',
            add_comment: 'Add a comment...',
            comment_button: 'Comment',
            reply_button: 'Reply',
            status_backlog: 'Backlog',
            status_todo: 'To Do',
            status_inprogress: 'In Progress',
            status_inreview: 'In Review',
            status_done: 'Done',
            start_date: 'Start Date',
            reminders: 'Reminders',
            set_reminder: 'Set a reminder',
            automated_follow_ups: 'Automated Follow-ups',
            nudge_on_inactivity: 'Nudge on inactivity',
            nudge_on_unanswered_question: 'Nudge on unanswered question',
            custom_fields: 'Custom Fields',
            activity: 'Activity',
            checklist: 'Checklist',
            subtasks: 'Subtasks',
            dependencies: 'Dependencies',
            attachments: 'Attachments',
            add_checklist_item: 'Add an item...',
            add_subtask: 'Add a subtask...',
            blocked_by: 'Blocked By (tasks that must be completed first)',
            blocking: 'Blocking (tasks waiting for this one)',
            select_task: 'Select a task...',
            add_attachment: 'Add attachment',
            attach_from_drive: 'Attach from Google Drive',
            reminder_or_preset: 'OR SELECT A PRESET',
            reminder_preset_1h: 'In 1 hour',
            reminder_preset_tomorrow: 'Tomorrow at 9 AM',
            reminder_preset_1d_before: '1 day before due',
            reminder_clear: 'Clear',
            okrs: 'OKRs',
            expenses: 'Expenses',
            delete: 'Delete',
            select_a_project_error: 'Please enter a task name and select a project.',
            status_approved: 'Approved',
            status_rejected: 'Rejected',
            status_pending: 'Pending',
            unassigned: 'Unassigned',
            add_goal_title: 'Create New Goal',
            edit_goal_title: 'Edit Goal',
            goal_title: 'Goal Title',
            goal_description: 'Description',
            goal_owner: 'Owner',
            due_date_optional: 'Due Date (Optional)',
            goal_category: 'Category',
            goal_priority: 'Priority',
            goal_status: 'Status',
            goal_tracking: 'Goal Tracking',
            goal_target_value: 'Target Value',
            goal_current_value: 'Current Value',
            goal_value_unit: 'Unit (e.g., $, %, tasks)',
            milestones: 'Milestones (Key Results)',
            add_milestone: 'Add Milestone',
            modal_add_item_title: 'Add New Item',
            modal_edit_item_title: 'Edit Item',
            modal_item_name: 'Item Name',
            modal_sku: 'SKU (Stock Keeping Unit)',
            modal_location: 'Location',
            modal_current_stock: 'Current Stock',
            modal_target_stock: 'Target Stock',
            modal_low_stock_threshold: 'Low Stock Threshold',
            modal_unit_price: 'Unit Price',
            modal_assign_item_title: 'Assign Item',
            modal_assign_to: 'Assign to Employee',
            modal_assignment_date: 'Assignment Date',
            modal_return_date: 'Expected Return Date',
            modal_serial_number: 'Serial Number (Optional)',
            modal_notes: 'Notes',
        },
        command_palette: {
            placeholder: 'Type a command or search...',
            no_results: 'No results found.',
            cmd_new_task: 'Create new task',
            cmd_toggle_theme: 'Toggle theme',
            cmd_go_dashboard: 'Go to Dashboard',
            cmd_go_projects: 'Go to Projects',
            cmd_go_tasks: 'Go to Tasks',
            cmd_go_settings: 'Go to Settings',
            cmd_toggle_notifications: 'Toggle notifications',
            cmd_new_project: 'Create new project',
            cmd_new_client: 'Create new client',
            cmd_new_invoice: 'Create new invoice',
            cmd_go_hr: 'Go to HR',
        },
        notifications: {
            title: 'Notifications',
            mark_all_read: 'Mark all as read',
            tab_new: 'New',
            tab_read: 'Read',
            no_new_notifications: "You're all caught up!",
            no_notifications: 'No notifications here.',
            comment_added: '{user} commented on {taskName}',
            task_assigned: 'You have been assigned to {taskName}',
            status_changed: '{user} changed status of {taskName} to {status}',
            user_mentioned: '{user} mentioned you in {taskName}',
            join_request: '{user} requested to join {workspaceName}',
            time_off_request: '{user} requested time off',
        },
        misc: {
            not_applicable: 'N/A',
            copy_link: 'Copy link',
            copied: 'Copied!',
            edit: 'Edit',
            no_client: 'No Client',
            system: 'System',
            no_events_for_day: 'No events scheduled for this day.',
            saving: 'Saving...',
            sending: 'Sending...',
            saved: 'Saved!',
        },
        panels: {
            close: 'Close',
            seller: 'Seller',
            buyer: 'Buyer',
            client_details: 'Client Details',
            client_contacts: 'Contacts',
            associated_projects: 'Associated Projects',
            projects_soon: 'Projects for this client will appear here.',
            project_overview: 'Overview',
            tasks: 'Tasks',
            tab_wiki: 'Wiki',
            tab_files: 'Files',
            tab_access: 'Access',
            tasks_overdue: 'Tasks Overdue',
            team: 'Team',
            save_as_template: 'Save as Template',
            add_task: 'Add Task',
            history: 'History',
            wiki_placeholder: 'Nothing here yet. Click Edit to start building your project wiki!',
            upload_file: 'Upload File',
            no_files: 'No files attached yet.',
            project_access: 'Project Access',
            invite_to_project: 'Invite to Project',
            role_admin: 'Admin',
            role_editor: 'Editor',
            role_commenter: 'Commenter',
            role_viewer: 'Viewer',
            automations_title: 'Automations',
            add_automation: 'Add Automation',
            no_automations: 'No automations configured for this project yet.',
            activity: 'Activity',
            no_deal_activity: 'No activity logged for this deal yet.',
            add_note: 'Add Note',
            call: 'Log a Call',
            meeting: 'Log a Meeting',
            email: 'Log an Email',
            log_activity: 'Log Activity',
            note_placeholder: 'Add a note about this deal...',
            no_tasks_in_stage: 'No tasks associated with this deal yet.',
        },
        billing: {
            title: 'Billing & Plan',
            access_denied: 'Access Denied',
            access_denied_desc: 'You do not have permission to manage billing.',
            current_plan: 'Current Plan & Usage',
            workspaces: 'Workspaces',
            unlimited: 'Unlimited',
            projects: 'Projects',
            users: 'Users',
            invoices_month: 'Invoices / month',
            billing_history: 'Billing History',
            history_plan: 'Plan',
            history_date: 'Date',
            change_plan: 'Change Plan',
            btn_current_plan: 'Current Plan',
            btn_change_plan: 'Change Plan',
            price_free: 'Free',
            price_starter: '$19',
            price_pro: '$49',
            price_business: '$99',
            price_enterprise: 'Contact Us',
            per_month: '/ month',
            feature_unlimited_workspaces: 'Unlimited workspaces',
            feature_workspaces: '{count} workspaces',
            feature_unlimited_projects: 'Unlimited projects',
            feature_projects: '{count} projects',
            feature_unlimited_users: 'Unlimited users',
            feature_users: '{count} users',
            feature_unlimited_invoices: 'Unlimited invoices',
            feature_invoices: '{count} invoices per month',
            limit_reached_projects: 'Project limit reached for the {planName} plan. Please upgrade to create more projects.',
            limit_reached_invoices: 'Monthly invoice limit reached for the {planName} plan. Please upgrade to create more invoices this month.',
            limit_reached_users: 'User limit reached for the {planName} plan. Please upgrade to invite more users.',
        },
        hr: {
            you: 'You',
            access_denied: 'Access Denied',
            access_denied_desc: 'You do not have permission to view HR information.',
            remove: 'Remove',
            invite: 'Invite',
            approve: 'Approve',
            reject: 'Reject',
            unknown_user: 'Unknown User',
            title: 'Team & HR',
            tabs: {
                employees: 'Employees',
                requests: 'Requests',
                vacation: 'Vacation',
                history: 'History',
                reviews: 'Reviews',
            },
            search_placeholder: 'Search by name or email...',
            invite_member: 'Invite Member',
            employee: 'Employee',
            role: 'Role',
            email_col: 'Email',
            actions: 'Actions',
            role_owner: 'Owner',
            role_admin: 'Admin',
            role_manager: 'Manager',
            role_member: 'Member',
            role_finance: 'Finance',
            role_client: 'Client',
            view_details_title: 'View Details',
            invite_by_email: 'Invite by Email',
            select_role: 'Select Role',
            cannot_remove_owner: 'Cannot remove the last owner of a workspace.',
            workspace_name_exists: 'A workspace with this name already exists.',
            workspace_limit_reached: 'You have reached the maximum number of workspaces for your plan.',
            no_pending_requests: 'No pending requests.',
            join_requests_title: 'Join Requests',
            leave_requests_title: 'Leave Requests',
            vacation_pool: 'Pool',
            vacation_used: 'Used',
            vacation_remaining: 'Remaining',
            days: 'days',
            hours: 'hours',
            manage_vacation: 'Manage',
            no_leave_history: 'No leave history found.',
            history_table: {
                employee: 'Employee',
                type: 'Type',
                start_date: 'Start Date',
                end_date: 'End Date',
                status: 'Status',
            },
            add_review: 'Add Review',
            reviewed_by: 'Reviewed by {name} on {date}',
            no_reviews: 'No reviews for this employee yet.',
        },
        calendar: {
            prev_month: 'Previous Month',
            next_month: 'Next Month',
            month_view: 'Month',
            week_view: 'Week',
            day_view: 'Day',
            weekdays: { mon: 'Mon', tue: 'Tue', wed: 'Wed', thu: 'Thu', fri: 'Fri', sat: 'Sat', sun: 'Sun' },
        },
        team_calendar: {
            title: 'Team Calendar',
            add_leave: 'Add Leave Request',
            add_event: 'Add Event',
            workload_view: 'Workload',
            timesheet_view: 'Timesheet',
            leave_type_vacation: 'Vacation',
            leave_type_sick_leave: 'Sick Leave',
            leave_type_other: 'Other',
            event: 'Event',
            'on-call': 'On-call',
            public_holiday: 'Public Holiday',
            my_time_logs: 'My Time Logs',
            all_users: 'All Users',
        },
        ai_assistant: {
            title: 'AI Assistant',
            description: 'Let AI help you with your daily tasks.',
            prompt_label: 'What do you want to accomplish?',
            prompt_placeholder: 'e.g., "Plan a social media campaign for a new product launch"',
            project_select_label: 'Add tasks to project',
            project_select_empty: 'Create a project first',
            generate_button: 'Generate Tasks',
            generating_button: 'Generating...',
            suggestions_title: 'Suggested Tasks',
            add_to_project: 'Add',
            all_tasks_added: 'All suggested tasks have been added!',
            suggestions_appear_here: 'Your suggested tasks will appear here.',
        },
        setup: {
            title: "Let's Get You Set Up",
            create_workspace_header: 'Create a new workspace',
            create_workspace_placeholder: "Your Company's Name",
            create_workspace_button: 'Create Workspace',
            join_workspace_header: '... or join an existing one',
            join_workspace_placeholder: 'Enter workspace name to request access',
            join_workspace_button: 'Request to Join',
            request_pending_title: 'Request Sent!',
            request_pending_message: 'Your request to join {workspaceName} is pending approval from an administrator.',
        },
        auth: {
            login_tab: 'Log In',
            register_tab: 'Register',
            welcome_back: 'Welcome Back!',
            email_label: 'Email Address',
            password_label: 'Password',
            login_button: 'Log In',
            logging_in: 'Logging In...',
            create_account_title: 'Create Your Account',
            full_name_label: 'Full Name',
            password_label_min: 'Password (min. 6 characters)',
            register_button: 'Create Account',
            registering: 'Creating Account...',
            logout: 'Log out',
        },
        errors: {
            invalid_credentials: 'Invalid email or password.',
            user_exists: 'A user with this email address already exists.',
            load_failed_title: 'Oops! Something went wrong.',
            refresh: 'Refresh Page',
            init_failed_message: 'The application could not be initialized. Please check your network connection and try again.',
            ai_task_save_failed: 'Failed to save the AI-generated task. Please try again.',
            plan_change_failed: 'Failed to change your plan. Please try again.',
            subscription_cancel_failed: 'Failed to cancel your subscription. Please contact support.',
            task_update_failed: 'Failed to update the task. Please try again.',
            deal_update_failed: 'Failed to update the deal. Please try again.',
            widget_layout_save_failed: 'Failed to save the new widget layout. Your changes have been reverted.',
            time_log_save_failed: 'Failed to save the time log. Please try again.',
            task_or_user_not_found: 'Task or user not found.',
            invalid_time_amount: 'Invalid time amount.',
            view_preference_save_failed: 'Could not save your view preference.',
            notification_read_failed: 'Could not mark all notifications as read.',
            generic_error: 'An error occurred',
            fill_all_fields: 'Please fill out all required fields.',
            password_too_short: 'Password must be at least 6 characters long.',
        },
        onboarding: {
            step0_title: "Welcome to Kombajn!",
            step0_content: "Let's take a quick tour to show you the key features. You can skip at any time.",
            step1_title: "Your Workspaces",
            step1_content: "This is where you can switch between different workspaces or create new ones. Each workspace is a separate area for your teams and projects.",
            step2_title: "Main Navigation",
            step2_content: "Use the sidebar to navigate between different modules like Projects, Tasks, Clients, and more.",
            step3_title: "Creating a Project",
            step3_content: "This is the Projects page. You can create your first project here to start organizing your work.",
            step4_title: "Task Views",
            step4_content: "On the Tasks page, you can switch between different views like Board, List, or Calendar to visualize your work the way you want.",
            step5_title: "Global Timer",
            step5_content: "Quickly start and stop a timer from anywhere in the app. When you stop it, you can assign the tracked time to a specific task.",
            step6_title: "Notifications",
            step6_content: "Click the bell to see your latest notifications, such as new task assignments or mentions.",
            step7_title: "Quick Actions",
            step7_content: "The plus button gives you quick access to create new tasks, projects, or clients from anywhere.",
            step8_title: "Settings",
            step8_content: "Customize your profile, workspace settings, and connect integrations here.",
            step9_title: "You're All Set!",
            step9_content: "That's the basics! You're now ready to explore Kombajn. Enjoy!",
            skip: "Skip Tour",
            next: "Next",
            finish: "Finish",
        },
        slash_commands: {
            heading1: 'Heading 1',
            heading1_desc: 'Create a large heading',
            bulleted_list: 'Bulleted List',
            bulleted_list_desc: 'Create a simple bulleted list',
            checklist: 'Checklist',
            checklist_desc: 'Create a trackable checklist',
        },
        shortcuts: {
            title: 'Keyboard Shortcuts',
            global_title: 'Global',
            global_desc_palette: 'Open command palette',
            global_desc_new_task: 'Create a new task',
            global_desc_help: 'Show this help menu',
            nav_title: 'Navigation',
            nav_desc_prefix: "Press 'g' then a letter to navigate:",
            nav_desc_dashboard: 'Go to Dashboard',
            nav_desc_projects: 'Go to Projects',
            nav_desc_tasks: 'Go to Tasks',
            nav_desc_hr: 'Go to HR',
            nav_desc_settings: 'Go to Settings',
            context_title: 'Contextual',
            context_desc_edit: 'Edit selected item (e.g., task name)',
            context_desc_assign: 'Assign member to task',
            context_desc_comment: 'Submit a comment',
        },
        budget: {
            title: 'Budget & Expenses',
            subtitle: 'Track your income, expenses, and budget for the current month.',
            set_budgets: 'Set Budgets',
            add_expense: 'Add Expense',
            total_revenue: 'Total Revenue',
            total_expenses: 'Total Expenses',
            net_profit: 'Net Profit',
            budget_vs_actual: 'Budget vs. Actual',
            spent_of_budget: '{spent} spent of {budget}',
            budgets_by_category: 'Budgets by Category',
            no_budgets_set: 'No budgets have been set for this month.',
            no_budgets_set_desc: 'Click "Set Budgets" to get started.',
            recent_transactions: 'Recent Transactions',
            col_date: 'Date',
            col_description: 'Description',
            col_category: 'Category',
            col_amount: 'Amount',
            no_transactions: 'No transactions for this month yet.',
            type_income: 'Income',
            modal_set_budgets_title: 'Set Monthly Budgets',
            modal_category: 'Category',
            modal_amount: 'Amount',
            modal_add_category: 'Add Category',
            modal_add_expense_title: 'Add Expense',
            modal_expense_description: 'Description',
            modal_expense_amount: 'Amount',
            modal_expense_date: 'Date',
            modal_expense_project: 'Project (Optional)',
            modal_expense_category: 'Category (Optional)',
        },
        integrations: {
            slack_title: 'Slack',
            slack_desc: 'Get notifications about tasks and comments directly in your Slack channels.',
            google_drive_title: 'Google Drive',
            google_drive_desc: 'Attach files from your Google Drive directly to tasks and projects.',
            gmail_title: 'Google Gmail',
            gmail_desc: 'Send invoices and deal-related emails directly from the app using your Gmail account.',
            github_title: 'GitHub',
            github_desc: 'Link commits and pull requests to your tasks for seamless development tracking.',
            figma_title: 'Figma',
            figma_desc: 'Embed Figma files and prototypes directly in your project wikis and task descriptions.',
            coming_soon: 'Coming Soon',
            connect: 'Connect',
            disconnect: 'Disconnect',
            connected_to: 'Connected to {workspaceName}',
            connected_as: 'Connected as {email}',
        }
    }
};

type NestedStringObject = { [key: string]: string | NestedStringObject };

function getTranslationsForLang(lang: 'en' | 'pl'): NestedStringObject {
    return (translations as any)[lang] || translations.en;
}

export function t(key: string, replacements?: { [key: string]: string | number }): string {
    const { language } = getState().settings;
    const langTranslations = getTranslationsForLang(language);

    const keys = key.split('.');
    let result: any = langTranslations;

    for (const k of keys) {
        if (result && typeof result === 'object' && k in result) {
            result = result[k];
        } else {
            console.warn(`Translation key not found: ${key}`);
            return key;
        }
    }

    if (typeof result === 'string' && replacements) {
        return Object.entries(replacements).reduce((acc, [placeholder, value]) => {
            return acc.replace(`{${placeholder}}`, String(value));
        }, result);
    }

    return typeof result === 'string' ? result : key;
}
