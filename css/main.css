@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --primary-color: #3b82f6; /* Blue 500 */
    --primary-hover-color: #2563eb; /* Blue 600 */
    --background-color: #f9fafb; /* Gray 50 */
    --content-bg: #ffffff;
    --text-color: #374151; /* Gray 700 */
    --subtle-text-color: #6b7280; /* Gray 500 */
    --border-color: #e5e7eb; /* Gray 200 */
    --danger-color: #ef4444; /* Red 500 */
    --success-color: #22c55e; /* Green 500 */
    --warning-color: #f59e0b; /* Amber 500 */
    --sidebar-text: #4b5563; /* Gray 600 */
    --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
    --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
    --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
  }

  html.dark {
    --primary-color: #60a5fa; /* Blue 400 */
    --primary-hover-color: #3b82f6; /* Blue 500 */
    --background-color: #111827; /* Gray 900 */
    --content-bg: #1f2937; /* Gray 800 */
    --text-color: #d1d5db; /* Gray 300 */
    --subtle-text-color: #9ca3af; /* Gray 400 */
    --border-color: #374151; /* Gray 700 */
    --danger-color: #f87171; /* Red 400 */
    --success-color: #4ade80; /* Green 400 */
    --warning-color: #fbbf24; /* Amber 400 */
    --sidebar-text: #d1d5db;
  }

  body {
    font-family: 'Inter', sans-serif;
    @apply bg-background text-text-main antialiased;
  }
}

@layer components {
  /* == Tasks Page (Redesigned) == */
  .tasks-board-container {
    @apply inline-flex h-full space-x-4 p-1;
  }

  .tasks-board-column {
    @apply flex-shrink-0 w-80 h-full flex flex-col bg-background rounded-lg;
  }

  .tasks-board-column-header {
    @apply px-3 pt-3 pb-2 font-semibold text-text-main flex justify-between items-center border-b border-border-color;
  }

  .tasks-board-column-body {
    @apply flex-1 min-h-0 overflow-y-auto p-2 space-y-2;
    scrollbar-width: thin;
    scrollbar-color: var(--border-color) transparent;
  }
  .tasks-board-column-body::-webkit-scrollbar {
    width: 6px;
  }
  .tasks-board-column-body::-webkit-scrollbar-track {
    background: transparent;
  }
  .tasks-board-column-body::-webkit-scrollbar-thumb {
    background-color: var(--border-color);
    border-radius: 3px;
  }

  /* Redesigned Task Card */
  .task-card {
    @apply bg-content p-3 rounded-md shadow-sm border border-border-color space-y-2.5 cursor-pointer transition-shadow hover:shadow-md;
  }

  .task-card-header {
    @apply flex justify-between items-start gap-2;
  }

  .task-card-name {
    @apply font-medium text-sm text-text-main leading-tight;
  }
  
  .task-card .btn-icon {
    @apply text-text-subtle w-6 h-6 flex-shrink-0 -mr-1 -mt-1;
  }
  .task-card .btn-icon:hover {
    @apply bg-background text-text-main;
  }

  /* Checklist Styles */
  .task-card-checklist {
    @apply space-y-1.5;
  }
  .task-card-checklist-item {
    @apply flex items-center gap-2 text-sm text-text-main;
  }
  .task-card-checklist-item.completed .checklist-item-text {
    @apply line-through text-text-subtle;
  }
  .task-card-checklist-item .material-icons-sharp {
    @apply text-lg text-text-subtle;
  }
  .task-card-checklist-item.completed .material-icons-sharp {
    @apply text-primary;
  }
  
  /* Priority Label */
  .task-card-priority {
    @apply text-sm font-medium text-text-subtle;
  }

  /* Footer and Stats */
  .task-card-footer {
    @apply flex flex-wrap justify-between items-center gap-2;
  }

  .task-card-stats {
    @apply flex items-center flex-wrap gap-x-3 gap-y-1 text-xs text-text-subtle;
  }
  .stat-item {
    @apply flex items-center gap-1;
  }
  .stat-item .material-icons-sharp {
    @apply text-base;
  }

  /* Avatar Stack for Task Card */
  .avatar-stack {
    @apply flex -space-x-2;
  }
  .avatar-small {
    @apply w-6 h-6 rounded-full bg-primary/20 text-primary flex items-center justify-center text-xs font-semibold border-2 border-content;
  }
  .more-avatar {
    @apply bg-background text-text-subtle;
  }

  /* Task Card Context Menu */
  .task-card-menu {
    @apply absolute z-20 bg-content rounded-md shadow-lg border border-border-color w-40 flex flex-col py-1;
  }
  .task-menu-item {
    @apply flex items-center gap-2 px-3 py-1.5 text-sm text-left w-full hover:bg-background;
  }
  .task-menu-item.danger {
    @apply text-danger;
  }
  .task-menu-item.danger:hover {
    @apply bg-danger/10;
  }
  .task-menu-item .material-icons-sharp {
    @apply text-base text-text-subtle;
  }
  .task-menu-item.danger .material-icons-sharp {
    @apply text-danger;
  }
}
